!function(){var e=$("#errorContainer"),s=$("#errorMes"),a=$("#messageForm"),r=$("#modalSendForm"),l=$("#submitAlert");a.validate({rules:{name:"required",email:{required:!0,email:!0},message:"required"},messages:{name:{required:"Please enter your name"},email:{required:"Please enter your email",email:"Please enter a valid email"},message:"Please enter your message"},errorPlacement:function(s){s.appendTo(e)},focusInvalid:!0,onfocusout:!0,onkeyup:!1,showErrors:function(r,l){a.find("input, textarea").each(function(){$(this).removeClass("error")}),l.length&&(e.addClass("red"),s.html(l[0].message),$(l[0].element).addClass("error"))},submitHandler:function(){$(".input-normal").removeClass("error"),e.removeClass("success"),l.removeClass("red").html("Are you sure to send this message?"),s.html(""),r.modal("show")}}),$("#submitConfirm").click(function(){var a=$(this);a.addClass("sending").attr("disabled","disabled");var o=$("#msgName"),n=$("#msgEmail"),m=$("#msgMessage"),t=$("#g-recaptcha-response");t.val()?$.ajax({url:"http://api.ownego.com/API/validation",type:"post",data:{name:o.val(),email:n.val(),message:m.val(),"g-recaptcha-response":t.val()},success:function(a){if(a.success)e.removeClass("red").addClass("success"),s.html("Your message has been sent successfully! We will reply your message very soon."),$(".input-normal").val("");else{var r="";for(var l in a.errors)$(".input-normal[name="+a.errors[l].field+"]").addClass("error"),r+=a.errors[l].message+"<br/>";e.addClass("red"),s.html(r)}},error:function(){e.addClass("red"),s.html("Error*: There are some problems sending your message. Please try again later.")},complete:function(){a.removeClass("sending").removeAttr("disabled"),r.modal("hide")}}):l.addClass("red").html("Please check the captcha")})}();